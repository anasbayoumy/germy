### Germy AI Service - Comprehensive HTTP Tests
### Test Environment: http://localhost:3004

### Variables
@baseUrl = http://localhost:3004
@userId = 550e8400-e29b-41d4-a716-446655440001
@companyId = 550e8400-e29b-41d4-a716-446655440000
@attendanceId = 550e8400-e29b-41d4-a716-446655440003

### Sample base64 image (1x1 pixel PNG)
@sampleImage = data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg==

### Sample face encoding (512-dimensional vector)
@sampleEncoding = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, -0.1, -0.2, -0.3, -0.4, -0.5, -0.6, -0.7, -0.8, -0.9, -1.0, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95, 1.05, -0.15, -0.25, -0.35, -0.45, -0.55, -0.65, -0.75, -0.85, -0.95, -1.05, 0.12, 0.22, 0.32, 0.42, 0.52, 0.62, 0.72, 0.82, 0.92, 1.02, -0.12, -0.22, -0.32, -0.42, -0.52, -0.62, -0.72, -0.82, -0.92, -1.02, 0.18, 0.28, 0.38, 0.48, 0.58, 0.68, 0.78, 0.88, 0.98, 1.08, -0.18, -0.28, -0.38, -0.48, -0.58, -0.68, -0.78, -0.88, -0.98, -1.08, 0.11, 0.21, 0.31, 0.41, 0.51, 0.61, 0.71, 0.81, 0.91, 1.01, -0.11, -0.21, -0.31, -0.41, -0.51, -0.61, -0.71, -0.81, -0.91, -1.01, 0.13, 0.23, 0.33, 0.43, 0.53, 0.63, 0.73, 0.83, 0.93, 1.03, -0.13, -0.23, -0.33, -0.43, -0.53, -0.63, -0.73, -0.83, -0.93, -1.03, 0.16, 0.26, 0.36, 0.46, 0.56, 0.66, 0.76, 0.86, 0.96, 1.06, -0.16, -0.26, -0.36, -0.46, -0.56, -0.66, -0.76, -0.86, -0.96, -1.06, 0.14, 0.24, 0.34, 0.44, 0.54, 0.64, 0.74, 0.84, 0.94, 1.04, -0.14, -0.24, -0.34, -0.44, -0.54, -0.64, -0.74, -0.84, -0.94, -1.04, 0.17, 0.27, 0.37, 0.47, 0.57, 0.67, 0.77, 0.87, 0.97, 1.07, -0.17, -0.27, -0.37, -0.47, -0.57, -0.67, -0.77, -0.87, -0.97, -1.07, 0.19, 0.29, 0.39, 0.49, 0.59, 0.69, 0.79, 0.89, 0.99, 1.09, -0.19, -0.29, -0.39, -0.49, -0.59, -0.69, -0.79, -0.89, -0.99, -1.09, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, -0.1, -0.2, -0.3, -0.4, -0.5, -0.6, -0.7, -0.8, -0.9, -1.0, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95, 1.05, -0.15, -0.25, -0.35, -0.45, -0.55, -0.65, -0.75, -0.85, -0.95, -1.05, 0.12, 0.22, 0.32, 0.42, 0.52, 0.62, 0.72, 0.82, 0.92, 1.02, -0.12, -0.22, -0.32, -0.42, -0.52, -0.62, -0.72, -0.82, -0.92, -1.02, 0.18, 0.28, 0.38, 0.48, 0.58, 0.68, 0.78, 0.88, 0.98, 1.08, -0.18, -0.28, -0.38, -0.48, -0.58, -0.68, -0.78, -0.88, -0.98, -1.08, 0.11, 0.21, 0.31, 0.41, 0.51, 0.61, 0.71, 0.81, 0.91, 1.01, -0.11, -0.21, -0.31, -0.41, -0.51, -0.61, -0.71, -0.81, -0.91, -1.01, 0.13, 0.23, 0.33, 0.43, 0.53, 0.63, 0.73, 0.83, 0.93, 1.03, -0.13, -0.23, -0.33, -0.43, -0.53, -0.63, -0.73, -0.83, -0.93, -1.03, 0.16, 0.26, 0.36, 0.46, 0.56, 0.66, 0.76, 0.86, 0.96, 1.06, -0.16, -0.26, -0.36, -0.46, -0.56, -0.66, -0.76, -0.86, -0.96, -1.06, 0.14, 0.24, 0.34, 0.44, 0.54, 0.64, 0.74, 0.84, 0.94, 1.04, -0.14, -0.24, -0.34, -0.44, -0.54, -0.64, -0.74, -0.84, -0.94, -1.04, 0.17, 0.27, 0.37, 0.47, 0.57, 0.67, 0.77, 0.87, 0.97, 1.07, -0.17, -0.27, -0.37, -0.47, -0.57, -0.67, -0.77, -0.87, -0.97, -1.07, 0.19, 0.29, 0.39, 0.49, 0.59, 0.69, 0.79, 0.89, 0.99, 1.09, -0.19, -0.29, -0.39, -0.49, -0.59, -0.69, -0.79, -0.89, -0.99, -1.09, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, -0.1, -0.2, -0.3, -0.4, -0.5, -0.6, -0.7, -0.8, -0.9, -1.0, 0.15, 0.25, 0.35, 0.45, 0.55, 0.65, 0.75, 0.85, 0.95, 1.05, -0.15, -0.25, -0.35, -0.45, -0.55, -0.65, -0.75, -0.85, -0.95, -1.05, 0.12, 0.22, 0.32, 0.42, 0.52, 0.62, 0.72, 0.82, 0.92, 1.02, -0.12, -0.22, -0.32, -0.42, -0.52, -0.62, -0.72, -0.82, -0.92, -1.02, 0.18, 0.28, 0.38, 0.48, 0.58, 0.68, 0.78, 0.88, 0.98, 1.08, -0.18, -0.28, -0.38, -0.48, -0.58, -0.68, -0.78, -0.88, -0.98, -1.08, 0.11, 0.21, 0.31, 0.41, 0.51, 0.61, 0.71, 0.81, 0.91, 1.01, -0.11, -0.21, -0.31, -0.41, -0.51, -0.61, -0.71, -0.81, -0.91, -1.01, 0.13, 0.23, 0.33, 0.43, 0.53, 0.63, 0.73, 0.83, 0.93, 1.03, -0.13, -0.23, -0.33, -0.43, -0.53, -0.63, -0.73, -0.83, -0.93, -1.03, 0.16, 0.26, 0.36, 0.46, 0.56, 0.66, 0.76, 0.86, 0.96, 1.06, -0.16, -0.26, -0.36, -0.46, -0.56, -0.66, -0.76, -0.86, -0.96, -1.06, 0.14, 0.24, 0.34, 0.44, 0.54, 0.64, 0.74, 0.84, 0.94, 1.04, -0.14, -0.24, -0.34, -0.44, -0.54, -0.64, -0.74, -0.84, -0.94, -1.04, 0.17, 0.27, 0.37, 0.47, 0.57, 0.67, 0.77, 0.87, 0.97, 1.07, -0.17, -0.27, -0.37, -0.47, -0.57, -0.67, -0.77, -0.87, -0.97, -1.07, 0.19, 0.29, 0.39, 0.49, 0.59, 0.69, 0.79, 0.89, 0.99, 1.09, -0.19, -0.29, -0.39, -0.49, -0.59, -0.69, -0.79, -0.89, -0.99, -1.09]

### ===========================================
### 1. HEALTH CHECK & MODEL INFO
### ===========================================

### Health Check
GET {{baseUrl}}/api/ai/health
Content-Type: application/json

### Model Information
GET {{baseUrl}}/api/ai/model-info
Content-Type: application/json

### ===========================================
### 2. FACE ENCODING TESTS (Called by Auth Service)
### ===========================================

### Successful Face Encoding
POST {{baseUrl}}/api/ai/encode-face
Content-Type: application/json

{
  "image": "{{sampleImage}}",
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "metadata": {
    "deviceInfo": "iPhone 14 Pro",
    "lighting": "good",
    "angle": "front",
    "timestamp": "2024-01-15T10:30:00Z",
    "imageQuality": 0.95,
    "faceSize": 0.8,
    "blurLevel": 0.1
  }
}

### Face Encoding with Poor Quality Image
POST {{baseUrl}}/api/ai/encode-face
Content-Type: application/json

{
  "image": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=",
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "metadata": {
    "deviceInfo": "Android Phone",
    "lighting": "poor",
    "angle": "side",
    "imageQuality": 0.3,
    "blurLevel": 0.8
  }
}

### Face Encoding with Invalid Image Format
POST {{baseUrl}}/api/ai/encode-face
Content-Type: application/json

{
  "image": "invalid-base64-data",
  "userId": "{{userId}}",
  "companyId": "{{companyId}}"
}

### Face Encoding with Missing Required Fields
POST {{baseUrl}}/api/ai/encode-face
Content-Type: application/json

{
  "userId": "{{userId}}"
  // Missing image field
}

### Face Encoding with Invalid UUID
POST {{baseUrl}}/api/ai/encode-face
Content-Type: application/json

{
  "image": "{{sampleImage}}",
  "userId": "invalid-uuid",
  "companyId": "{{companyId}}"
}

### ===========================================
### 3. FACE COMPARISON TESTS (Called by Attendance Service)
### ===========================================

### Successful Face Comparison (High Similarity)
POST {{baseUrl}}/api/ai/compare-faces
Content-Type: application/json

{
  "encoding1": {{sampleEncoding}},
  "encoding2": {{sampleEncoding}},
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "attendanceId": "{{attendanceId}}",
  "metadata": {
    "clockInTime": "2024-01-15T09:00:00Z",
    "location": {
      "latitude": 37.7749,
      "longitude": -122.4194,
      "accuracy": 5.0
    },
    "deviceInfo": "iPhone 14 Pro",
    "userAgent": "Mozilla/5.0 (iPhone; CPU iPhone OS 17_0 like Mac OS X)",
    "ipAddress": "192.168.1.100",
    "workMode": "onsite",
    "expectedLocation": "Office Building A"
  }
}

### Face Comparison with Different Encodings (Low Similarity)
POST {{baseUrl}}/api/ai/compare-faces
Content-Type: application/json

{
  "encoding1": {{sampleEncoding}},
  "encoding2": [0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0.0, -0.1, -0.2, -0.3, -0.4, -0.5, -0.6, -0.7, -0.8, -0.9, -1.0, 0.95, 0.85, 0.75, 0.65, 0.55, 0.45, 0.35, 0.25, 0.15, 0.05, -0.05, -0.15, -0.25, -0.35, -0.45, -0.55, -0.65, -0.75, -0.85, -0.95, 0.92, 0.82, 0.72, 0.62, 0.52, 0.42, 0.32, 0.22, 0.12, 0.02, -0.02, -0.12, -0.22, -0.32, -0.42, -0.52, -0.62, -0.72, -0.82, -0.92, 0.98, 0.88, 0.78, 0.68, 0.58, 0.48, 0.38, 0.28, 0.18, 0.08, -0.08, -0.18, -0.28, -0.38, -0.48, -0.58, -0.68, -0.78, -0.88, -0.98, 0.91, 0.81, 0.71, 0.61, 0.51, 0.41, 0.31, 0.21, 0.11, 0.01, -0.01, -0.11, -0.21, -0.31, -0.41, -0.51, -0.61, -0.71, -0.81, -0.91, 0.93, 0.83, 0.73, 0.63, 0.53, 0.43, 0.33, 0.23, 0.13, 0.03, -0.03, -0.13, -0.23, -0.33, -0.43, -0.53, -0.63, -0.73, -0.83, -0.93, 0.96, 0.86, 0.76, 0.66, 0.56, 0.46, 0.36, 0.26, 0.16, 0.06, -0.06, -0.16, -0.26, -0.36, -0.46, -0.56, -0.66, -0.76, -0.86, -0.96, 0.94, 0.84, 0.74, 0.64, 0.54, 0.44, 0.34, 0.24, 0.14, 0.04, -0.04, -0.14, -0.24, -0.34, -0.44, -0.54, -0.64, -0.74, -0.84, -0.94, 0.97, 0.87, 0.77, 0.67, 0.57, 0.47, 0.37, 0.27, 0.17, 0.07, -0.07, -0.17, -0.27, -0.37, -0.47, -0.57, -0.67, -0.77, -0.87, -0.97, 0.99, 0.89, 0.79, 0.69, 0.59, 0.49, 0.39, 0.29, 0.19, 0.09, -0.09, -0.19, -0.29, -0.39, -0.49, -0.59, -0.69, -0.79, -0.89, -0.99, 0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0.0, -0.1, -0.2, -0.3, -0.4, -0.5, -0.6, -0.7, -0.8, -0.9, -1.0, 0.95, 0.85, 0.75, 0.65, 0.55, 0.45, 0.35, 0.25, 0.15, 0.05, -0.05, -0.15, -0.25, -0.35, -0.45, -0.55, -0.65, -0.75, -0.85, -0.95, 0.92, 0.82, 0.72, 0.62, 0.52, 0.42, 0.32, 0.22, 0.12, 0.02, -0.02, -0.12, -0.22, -0.32, -0.42, -0.52, -0.62, -0.72, -0.82, -0.92, 0.98, 0.88, 0.78, 0.68, 0.58, 0.48, 0.38, 0.28, 0.18, 0.08, -0.08, -0.18, -0.28, -0.38, -0.48, -0.58, -0.68, -0.78, -0.88, -0.98, 0.91, 0.81, 0.71, 0.61, 0.51, 0.41, 0.31, 0.21, 0.11, 0.01, -0.01, -0.11, -0.21, -0.31, -0.41, -0.51, -0.61, -0.71, -0.81, -0.91, 0.93, 0.83, 0.73, 0.63, 0.53, 0.43, 0.33, 0.23, 0.13, 0.03, -0.03, -0.13, -0.23, -0.33, -0.43, -0.53, -0.63, -0.73, -0.83, -0.93, 0.96, 0.86, 0.76, 0.66, 0.56, 0.46, 0.36, 0.26, 0.16, 0.06, -0.06, -0.16, -0.26, -0.36, -0.46, -0.56, -0.66, -0.76, -0.86, -0.96, 0.94, 0.84, 0.74, 0.64, 0.54, 0.44, 0.34, 0.24, 0.14, 0.04, -0.04, -0.14, -0.24, -0.34, -0.44, -0.54, -0.64, -0.74, -0.84, -0.94, 0.97, 0.87, 0.77, 0.67, 0.57, 0.47, 0.37, 0.27, 0.17, 0.07, -0.07, -0.17, -0.27, -0.37, -0.47, -0.57, -0.67, -0.77, -0.87, -0.97, 0.99, 0.89, 0.79, 0.69, 0.59, 0.49, 0.39, 0.29, 0.19, 0.09, -0.09, -0.19, -0.29, -0.39, -0.49, -0.59, -0.69, -0.79, -0.89, -0.99, 0.9, 0.8, 0.7, 0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0.0, -0.1, -0.2, -0.3, -0.4, -0.5, -0.6, -0.7, -0.8, -0.9, -1.0, 0.95, 0.85, 0.75, 0.65, 0.55, 0.45, 0.35, 0.25, 0.15, 0.05, -0.05, -0.15, -0.25, -0.35, -0.45, -0.55, -0.65, -0.75, -0.85, -0.95, 0.92, 0.82, 0.72, 0.62, 0.52, 0.42, 0.32, 0.22, 0.12, 0.02, -0.02, -0.12, -0.22, -0.32, -0.42, -0.52, -0.62, -0.72, -0.82, -0.92, 0.98, 0.88, 0.78, 0.68, 0.58, 0.48, 0.38, 0.28, 0.18, 0.08, -0.08, -0.18, -0.28, -0.38, -0.48, -0.58, -0.68, -0.78, -0.88, -0.98, 0.91, 0.81, 0.71, 0.61, 0.51, 0.41, 0.31, 0.21, 0.11, 0.01, -0.01, -0.11, -0.21, -0.31, -0.41, -0.51, -0.61, -0.71, -0.81, -0.91, 0.93, 0.83, 0.73, 0.63, 0.53, 0.43, 0.33, 0.23, 0.13, 0.03, -0.03, -0.13, -0.23, -0.33, -0.43, -0.53, -0.63, -0.73, -0.83, -0.93, 0.96, 0.86, 0.76, 0.66, 0.56, 0.46, 0.36, 0.26, 0.16, 0.06, -0.06, -0.16, -0.26, -0.36, -0.46, -0.56, -0.66, -0.76, -0.86, -0.96, 0.94, 0.84, 0.74, 0.64, 0.54, 0.44, 0.34, 0.24, 0.14, 0.04, -0.04, -0.14, -0.24, -0.34, -0.44, -0.54, -0.64, -0.74, -0.84, -0.94, 0.97, 0.87, 0.77, 0.67, 0.57, 0.47, 0.37, 0.27, 0.17, 0.07, -0.07, -0.17, -0.27, -0.37, -0.47, -0.57, -0.67, -0.77, -0.87, -0.97, 0.99, 0.89, 0.79, 0.69, 0.59, 0.49, 0.39, 0.29, 0.19, 0.09, -0.09, -0.19, -0.29, -0.39, -0.49, -0.59, -0.69, -0.79, -0.89, -0.99],
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "attendanceId": "{{attendanceId}}",
  "metadata": {
    "clockInTime": "2024-01-15T09:00:00Z",
    "workMode": "onsite"
  }
}

### Face Comparison with Invalid Encoding Size
POST {{baseUrl}}/api/ai/compare-faces
Content-Type: application/json

{
  "encoding1": [0.1, 0.2, 0.3],
  "encoding2": {{sampleEncoding}},
  "userId": "{{userId}}",
  "companyId": "{{companyId}}"
}

### Face Comparison with Missing Required Fields
POST {{baseUrl}}/api/ai/compare-faces
Content-Type: application/json

{
  "encoding1": {{sampleEncoding}}
  // Missing encoding2 and userId
}

### ===========================================
### 4. PERFORMANCE TESTS
### ===========================================

### Multiple Face Encoding Requests (Load Test)
POST {{baseUrl}}/api/ai/encode-face
Content-Type: application/json

{
  "image": "{{sampleImage}}",
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "metadata": {
    "testType": "load_test",
    "requestNumber": 1
  }
}

### Multiple Face Comparison Requests (Load Test)
POST {{baseUrl}}/api/ai/compare-faces
Content-Type: application/json

{
  "encoding1": {{sampleEncoding}},
  "encoding2": {{sampleEncoding}},
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "metadata": {
    "testType": "load_test",
    "requestNumber": 1
  }
}

### ===========================================
### 5. ERROR SCENARIOS
### ===========================================

### Invalid JSON Format
POST {{baseUrl}}/api/ai/encode-face
Content-Type: application/json

{
  "image": "{{sampleImage}}",
  "userId": "{{userId}}",
  "companyId": "{{companyId}}"
  // Missing closing brace

### Empty Request Body
POST {{baseUrl}}/api/ai/encode-face
Content-Type: application/json

### Wrong Content Type
POST {{baseUrl}}/api/ai/encode-face
Content-Type: text/plain

{
  "image": "{{sampleImage}}",
  "userId": "{{userId}}"
}

### ===========================================
### 6. FRAUD DETECTION TESTS (Called by Attendance Service)
### ===========================================

### Successful Fraud Analysis (Low Risk)
POST {{baseUrl}}/api/ai/analyze-fraud
Content-Type: application/json

{
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "attendanceId": "{{attendanceId}}",
  "clockInTime": "2024-01-15T09:00:00Z",
  "location": {
    "latitude": 37.7749,
    "longitude": -122.4194,
    "accuracy": 5.0
  },
  "deviceInfo": "iPhone 14 Pro",
  "userAgent": "GermyMobile/1.0.0 (iOS 17.0)",
  "ipAddress": "192.168.1.100",
  "workMode": "onsite",
  "expectedLocation": "Office Building A",
  "faceSimilarity": 0.95,
  "previousLocations": [
    {
      "latitude": 37.7749,
      "longitude": -122.4194,
      "timestamp": "2024-01-14T09:00:00Z"
    }
  ],
  "previousDevices": ["iPhone 14 Pro"],
  "attendanceHistory": [
    {
      "clockInTime": "2024-01-14T09:00:00Z",
      "location": {
        "latitude": 37.7749,
        "longitude": -122.4194
      },
      "deviceInfo": "iPhone 14 Pro"
    }
  ],
  "metadata": {
    "requestSource": "attendance-service",
    "geofenceRadius": 100
  }
}

### Fraud Analysis with High Risk (Weekend + New Device)
POST {{baseUrl}}/api/ai/analyze-fraud
Content-Type: application/json

{
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "attendanceId": "{{attendanceId}}",
  "clockInTime": "2024-01-13T10:00:00Z",
  "location": {
    "latitude": 40.7128,
    "longitude": -74.0060,
    "accuracy": 10.0
  },
  "deviceInfo": "Samsung Galaxy S24",
  "userAgent": "GermyMobile/1.0.0 (Android 14)",
  "ipAddress": "203.0.113.1",
  "workMode": "onsite",
  "expectedLocation": "Office Building A",
  "faceSimilarity": 0.65,
  "previousDevices": ["iPhone 14 Pro"],
  "attendanceHistory": [
    {
      "clockInTime": "2024-01-12T09:00:00Z",
      "deviceInfo": "iPhone 14 Pro"
    }
  ]
}

### Fraud Analysis for Remote Work
POST {{baseUrl}}/api/ai/analyze-fraud
Content-Type: application/json

{
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "attendanceId": "{{attendanceId}}",
  "clockInTime": "2024-01-15T09:00:00Z",
  "deviceInfo": "MacBook Pro",
  "userAgent": "GermyWeb/1.0.0 (macOS 14.0)",
  "ipAddress": "192.168.1.200",
  "workMode": "remote",
  "faceSimilarity": 0.88,
  "previousDevices": ["MacBook Pro", "iPhone 14 Pro"],
  "attendanceHistory": [
    {
      "clockInTime": "2024-01-14T09:00:00Z",
      "deviceInfo": "MacBook Pro"
    }
  ]
}

### Fraud Analysis with Missing Required Fields
POST {{baseUrl}}/api/ai/analyze-fraud
Content-Type: application/json

{
  "userId": "{{userId}}"
  // Missing companyId, clockInTime, workMode
}

### Fraud Analysis with Invalid Data
POST {{baseUrl}}/api/ai/analyze-fraud
Content-Type: application/json

{
  "userId": "invalid-uuid",
  "companyId": "{{companyId}}",
  "clockInTime": "invalid-date",
  "workMode": "invalid-mode"
}

### ===========================================
### 7. INTEGRATION TESTS
### ===========================================

### Complete Face Encoding Flow (Auth Service Integration)
POST {{baseUrl}}/api/ai/encode-face
Content-Type: application/json

{
  "image": "{{sampleImage}}",
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "metadata": {
    "requestSource": "auth-service",
    "requesterId": "{{userId}}",
    "requesterRole": "user",
    "ipAddress": "192.168.1.100",
    "userAgent": "GermyMobile/1.0.0 (iOS 17.0)",
    "deviceInfo": "iPhone 14 Pro",
    "lighting": "excellent",
    "angle": "front",
    "timestamp": "2024-01-15T10:30:00Z"
  }
}

### Complete Face Comparison Flow (Attendance Service Integration)
POST {{baseUrl}}/api/ai/compare-faces
Content-Type: application/json

{
  "encoding1": {{sampleEncoding}},
  "encoding2": {{sampleEncoding}},
  "userId": "{{userId}}",
  "companyId": "{{companyId}}",
  "attendanceId": "{{attendanceId}}",
  "metadata": {
    "requestSource": "attendance-service",
    "clockInTime": "2024-01-15T09:00:00Z",
    "location": {
      "latitude": 37.7749,
      "longitude": -122.4194,
      "accuracy": 5.0
    },
    "deviceInfo": "iPhone 14 Pro",
    "userAgent": "GermyMobile/1.0.0 (iOS 17.0)",
    "ipAddress": "192.168.1.100",
    "workMode": "onsite",
    "expectedLocation": "Office Building A",
    "geofenceRadius": 100
  }
}
